; setting the colors
BKG "#004E98"
FRG "#3A6EA5"

MOVV R1 100
MOVV R2 100
MOVV R5 10
PLOTR R1 R2 10
CALL .SHOW_INFO
; R1 = x
; R2 = y

.GAMELOOP:
GRKEY R0

MOVV R3 KU
JE R3 R0 .MOVE_UP

MOVV R3 KR
JE R3 R0 .MOVE_RIGHT

MOVV R3 KD
JE R3 R0 .MOVE_DOWN

MOVV R3 KL
JE R3 R0 .MOVE_LEFT

MOVV R3 KA
JE R3 R0 .DO_THING

JP .STOP

.STOP:
MOVV R4 0
JP .GAMELOOP

.MOVE_UP:
MOVR R4 R5
SUB R2 R4
JP .RENDER

.MOVE_RIGHT:
MOVR R4 R5
ADD R1 R4
JP .RENDER

.MOVE_DOWN:
MOVR R4 R5
ADD R2 R4
JP .RENDER

.MOVE_LEFT:
MOVR R4 R5
SUB R1 R4
JP .RENDER

.DO_THING:
BEEPV 500 261.626
JP .RENDER

.RENDER:
CLSC "#004E98"
PLOTR R1 R2 10
CALL .SHOW_INFO
MOVV R4 0
JP .GAMELOOP

.SHOW_INFO:
PRINTS "CLICK ON DATA INPUT FIELD AND"
PRINTS "USE ARROWS TO MOVE."
PRINTS "PRESS Z TO BEEP."
RET

; unreacheable
HALT
