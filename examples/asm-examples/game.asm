; background
BKG 2 "black"

; player x
MOVV INT R100 100

; player y
MOVV INT R200 100

; player speed
MOVV INT R300 1

; rendering game info
CALL .SHOW_INFO

; starting the game loop
JP .RENDER

.GAMELOOP:
GRKEY R0

; if up is pressed
MOVV INT R3 KU
JE R3 R0 .MOVE_UP

MOVV INT R3 KR
JE R3 R0 .MOVE_RIGHT

MOVV INT R3 KD
JE R3 R0 .MOVE_DOWN

MOVV INT R3 KL
JE R3 R0 .MOVE_LEFT

MOVV INT R3 KA
JE R3 R0 .DO_THING

JP .STOP

.STOP:
MOVV INT R4 0
JP .GAMELOOP

.MOVE_UP:
MOVR R4 R300
SUB R200 R4
JP .RENDER

.MOVE_RIGHT:
MOVR R4 R300
ADD R100 R4
JP .RENDER

.MOVE_DOWN:
MOVR R4 R300
ADD R200 R4
JP .RENDER

.MOVE_LEFT:
MOVR R4 R300
SUB R100 R4
JP .RENDER

.DO_THING:
MOVV INT R4 1
ADD R300 R4
JP .RENDER

.RENDER:
CLS 1
FRG 1 "blue"
PLOTR 1 R100 R200 10
MOVV INT R4 0
JP .GAMELOOP

.SHOW_INFO:
FRG 0 "white"
PRINTS 0 "CLICK ON DATA INPUT FIELD AND"
PRINTS 0 "USE ARROWS TO MOVE."
PRINTS 0 "PRESS Z TO GO FAST."
RET

; unreacheable
HALT
