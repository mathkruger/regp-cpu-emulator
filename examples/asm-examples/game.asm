; background
BKG 2 "black"

; player x
MOVV R1 100

; player y
MOVV R2 100

; player speed
MOVV R5 1

; rendering game info
CALL .SHOW_INFO

; starting the game loop
JP .RENDER

.GAMELOOP:
GRKEY R0

; if up is pressed
MOVV R3 KU
JE R3 R0 .MOVE_UP

MOVV R3 KR
JE R3 R0 .MOVE_RIGHT

MOVV R3 KD
JE R3 R0 .MOVE_DOWN

MOVV R3 KL
JE R3 R0 .MOVE_LEFT

MOVV R3 KA
JE R3 R0 .DO_THING

JP .STOP

.STOP:
MOVV R4 0
JP .GAMELOOP

.MOVE_UP:
MOVR R4 R5
SUB R2 R4
JP .RENDER

.MOVE_RIGHT:
MOVR R4 R5
ADD R1 R4
JP .RENDER

.MOVE_DOWN:
MOVR R4 R5
ADD R2 R4
JP .RENDER

.MOVE_LEFT:
MOVR R4 R5
SUB R1 R4
JP .RENDER

.DO_THING:
MOVV R4 1
ADD R5 R4
JP .RENDER

.RENDER:
CLS 1
FRG 1 "blue"
PLOTR 1 R1 R2 10
MOVV R4 0
JP .GAMELOOP

.SHOW_INFO:
FRG 0 "white"
PRINTS 0 "CLICK ON DATA INPUT FIELD AND"
PRINTS 0 "USE ARROWS TO MOVE."
PRINTS 0 "PRESS Z TO GO FAST."
RET

; unreacheable
HALT
